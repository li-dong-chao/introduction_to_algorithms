## 2.1-1

#### 题目

以图2-2为模型，说明INSERTION-SORT在数组 $A=<31, 41, 59, 26, 41, 58>$ 上的执行过程。

#### 答案

$$
31, 41, 59, 26, 41, 58 \\\\
31, [41], 59, 26, 41, 58 \\\\
31, 41, [59], 26, 41, 58 \\\\
31, 41, 59, [26], 41, 58 \\\\
31, 41, [26], 59, 41, 58 \\\\
31, [26], 41, 59, 41, 58 \\\\
[26], 31, 41, 59, 41, 58 \\\\
26, 31, 41, 59, [41], 58 \\\\
26, 31, 41, [41], 59, 58 \\\\
26, 31, 41, 41, 59, [58] \\\\
26, 31, 41, 41, [58], 59 \\\\
26, 31, 41, 41, 58, 59 \\\\
$$

## 2.1-2

#### 题目

重写过程INSERTION-SORT，使之按非升序（而不是降序）排序。

#### 答案

- 伪代码：

    ```python
    INSERTION-SORT(A)
    for j = 2 to A.length
        key = A[j]
        i = j - 1
        while i > 0 and A[i] < key
            A[i+1] = A[i]
            i = i - 1
        A[i+1] = key
    ```

    

- 代码：

    ```python
    def insertion_sort(A):
        for j in range(1, len(A)):
            key = A[j]
            i = j - 1
            while i>=0 and A[i] < key:
                A[i+1] = A[i]
                i -= 1
            A[i+1] = key
    ```

## 2.1-3

#### 题目

考虑以下**查找问题**：

**输入**： $n$ 个数的一个序列 $A=<a_1, a_2, \dots, a_n>$ 和一个值 $v$ 。

**输出**：下标 $i$ 使得 $v=A[i]$ 或者当 $v$ 不在 $A$ 中出现时， $v$ 为特殊值NIL。

写出**线性查找**的伪代码，它扫描整个序列来查找 $v$ 。使用一个循环不变式来证明你的算法是正确的。确保你的循环不变式满足三条必要的性质。

#### 答案

- 伪代码：

    ```python
    LINER-SEARCH(A, v)
    for i = 1 to A.length
    	if A[i] == v
        	return i
    return NIL
    ```

- 证明：

    本题中的循环不变式为： $A[1, \dots，i-1]$ 中不存在 $v$。下面证明其满足三性质。

    - 初始化：在循环开始之前 $A[1, \dots, i-1]$ 是空的，因此不存在 $i$ 使得 $v=A[i]$ ，显然有 $A[1, \dots, i-1]$ 中不存在 $v$ 。
    - 保持：假设第 $i$ 次迭代之前 $A[1, \dots, i-1]$ 中不存在 $v$ ，则在第 $i$ 次循环中，仅当 $A[i] \ne v$ 时才会有下次循环，此时有 $A[1, \dots, i]$ 中不存在 $v$ ，因此在下次迭代时，循环不变式仍然成立。
    - 终止：导致程序终止的条件为 $i=A.length$ 或者 $A[i]=v$ ，对于前者，此时通过扫描整个序列发现整个序列中都不存在 $i$ 使得 $A[i]=v$ ，因此返回NIL是正确的；对于后者，因为有 $A[i]=v$ ，因此返回 $i$ 是正确的。

    因此算法正确。

## 2.1-4

#### 题目

考虑把两个 $n$ 位二进制整数加起来的问题，这两个整数分别存储在两个 $n$ 元数组 $A$ 和 $B$ 中。这两个整数的和应按二进制形式储存在一个 $(n+1)$ 元数组 $C$ 中。请给出该问题的形式化描述，并写出伪代码。

#### 答案

- 形式化描述：

    **输入**：表示 $n$ 位二进制整数的 $n$ 元数组 $A=<a_1, a_2, \dots, a_n>$ 和 $n$ 元数组 $B=<b_1, b_2, \dots, b_n>$ ，其中对于 $i=1, 2. \dots ,n$ 有 $a_i\in\{0, 1\}$ 和 $ b_i\in\{0, 1\}$

    **输出**：表示 $n+1$ 位二进制整数的 $(n+1)$ 元数组 $C=<c_1, c_2, \dots, c_{n+1}>$ ，其中 $C$ 为 $A$ 和 $B$ 的二进制和，对于 $i=1, 2. \dots ,n+1$ 有 $c_i\in\{0, 1\}$

- 伪代码：

    ```python
    ADD-BINARY(A, B)
    tmp = 0
    创建(n+1)元数组C
    n = A.length
    for i = n to 1
        C[i+1] = (A[i] + B[i] + tmp) mod 2
        if A[i] + B[i] + tmp > 1:
            tmp = 1
        else:
            tmp = 0
    C[i] = tmp
    ```

    